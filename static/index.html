<!doctype html>
<html>
<head>
  <link rel="stylesheet" href="/bootstrap/bootstrap.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <base href="/">
</head>
<body ng-app="fsApp" style="display:flex;flex-flow:row nowrap;height:100vh" ng-controller="EntryController">
  <div style="flex:0 1 auto;height:100%;min-width:200px;overflow:scroll">
    <table>
      <tr ng-repeat="entry in entries track by $index">
	<td ng-style="(entry == selectedEntry) ? {'background':'blue'} : {}"
	    ng-click="selectEntry(entry)">
	  <div style="display:inline-block;height:40px;width:40px">
	    <img style="margin:auto;display:block;max-width:100%;max-height:100%" ng-src="{{thumbUrl(entry)}}">
	  </div>
	  <a ng-bind="entry.title" style="vertical-align:middle"></a>
	</td>
      </tr>
    </table>
  </div>
  <div style="flex:1;display:flex;flex-flow:column nowrap">
    <tabset>
      <tab heading="Image">
	<div style="flex:2">
	  <img ng-src="{{bigUrl(selectedEntry)}}">
	</div>
      </tab>
      <tab heading="Content">
	<div style="flex:2" ng-bind-html="selectedEntry.content">
	</div>
      </tab>
    </tabset>
    <div style="flex:0 0 auto;display:flex;justify-content:center">
      <button ng-click="saveEntry(selectedEntry)" class="btn">Save image</button>
      <button class="btn">Skip</button>
      <button class="btn">Unsave entry</button>
      <button class="btn">Search Tumblr</button>
      <button class="btn">Settings</button>
    </div>
  </div>
  <script src="/static/js/bundle.js"></script>   
</body>
</html>
